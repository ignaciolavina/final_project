{{extend 'layout.html'}}

<link rel="stylesheet" type="text/css" href="{{ = URL('static/css', 'app.css') }}" />
<script src="{{ = URL('static','js/vue.min.js') }}"></script>

<script>
  let getLoggedInUserUrl = "{{ = URL('api', 'get_logged_in_user') }}";
  let getAllBooksUrl = "{{ = URL('api', 'get_all_books') }}";
  var search_url = "{{=URL('api', 'search', user_signature=True, hash_vars=False)}}";
</script>

<div id="app">

  <!-- Search bar -->
  <div class="search-container">
    <div class="row justify-content-md-center">
      <h3>Search:</h3>
      <input type="text" class="search-bar" v-model="search_string" v-on:input="do_search">

    </div>
  </div>


  <!-- Books (dinamic disposition) -->
  <div class="container-fluid">
    <div class="row">
      <div v-for="book in books">
        <div class="container book-card" v-on:mouseenter="hover_card">
          <!-- v-on:click="hover_card"  mouseover -->
          <!-- <div class="card " style="width: 22rem;"> -->
          <img class="card-img-top" src="../static/images/book.png" alt="Card image cap">
          <div class="card-body" style="background-color:azure">
            <h5 class="card-title">${ book.title }</h5>
            <a href="./index.html" class="text">@author</a>
            <b>&emsp; Price: ${book.price} $</b>
            <p class="max-lines">${ book.description }. The book description is the pitch to the reader about why they
              should buy your book. It is sales copy to get them to see that the book is for them (or not), and then
              make the purchase. ... In many cases, the description is the factor that solidifies in the reader's mind
              whether the book is for them or not</p>
            <h5>Tags:</h5>
            <div class="row">
              <div v-for="tag in book.tags">
                <span class="badge badge-pill badge-dark own-tag">${ tag }</span>
              </div>
            </div>
            <a href="#" class="btn btn-primary">Go somewhere</a>
          </div>
          <!-- </div> -->
        </div>
      </div>
    </div>
  </div>
</div>

<script src="{{ = URL('static/js', 'index.js') }}"></script>